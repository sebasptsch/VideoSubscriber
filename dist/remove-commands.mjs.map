{"version":3,"sources":["../src/remove-commands.ts"],"sourcesContent":["import { REST } from \"@discordjs/rest\";\nimport { Routes } from \"discord-api-types/v9\";\nimport { config } from \"dotenv\";\nimport signale from \"signale\";\n\nconfig();\nconst logger = new signale.Signale({\n  disabled: false,\n  interactive: false,\n  logLevel: process.env.LOG_LEVEL || \"info\",\n  secrets: [process.env.TOKEN, process.env.CLIENT_ID],\n});\nconst { TOKEN, CLIENT_ID, GUILD_ID } = process.env;\n\nif (!TOKEN || !CLIENT_ID) {\n  logger.error(\"Missing env vars.\");\n} else {\n  const rest = new REST({ version: \"9\" }).setToken(TOKEN);\n\n  (async () => {\n    try {\n      logger.info(\n        `Started refreshing ${GUILD_ID ? \"guild\" : \"application\"} (/) commands.`\n      );\n      if (GUILD_ID) {\n        await rest.put(Routes.applicationGuildCommands(CLIENT_ID, GUILD_ID), {\n          body: [],\n        });\n      } else {\n        await rest.put(Routes.applicationCommands(CLIENT_ID), {\n          body: [],\n        });\n      }\n\n      logger.info(\n        `Successfully deleted ${\n          GUILD_ID ? \"guild\" : \"application\"\n        } (/) commands.`\n      );\n    } catch (error) {\n      logger.error(error);\n    }\n  })();\n}\n"],"mappings":"AAAA,uCACA,8CACA,gCACA,uBAEA,EAAO,EACP,GAAM,GAAS,GAAI,GAAQ,QAAQ,CACjC,SAAU,GACV,YAAa,GACb,SAAU,QAAQ,IAAI,WAAa,OACnC,QAAS,CAAC,QAAQ,IAAI,MAAO,QAAQ,IAAI,SAAS,CACpD,CAAC,EACK,CAAE,QAAO,YAAW,YAAa,QAAQ,IAE/C,GAAI,CAAC,GAAS,CAAC,EACb,EAAO,MAAM,mBAAmB,MAC3B,CACL,GAAM,GAAO,GAAI,GAAK,CAAE,QAAS,GAAI,CAAC,EAAE,SAAS,CAAK,EAEtD,AAAC,UAAY,CACX,GAAI,CACF,EAAO,KACL,sBAAsB,EAAW,QAAU,6BAC7C,EACA,AAAI,EACF,KAAM,GAAK,IAAI,EAAO,yBAAyB,EAAW,CAAQ,EAAG,CACnE,KAAM,CAAC,CACT,CAAC,EAED,KAAM,GAAK,IAAI,EAAO,oBAAoB,CAAS,EAAG,CACpD,KAAM,CAAC,CACT,CAAC,EAGH,EAAO,KACL,wBACE,EAAW,QAAU,6BAEzB,CACF,OAAS,EAAP,CACA,EAAO,MAAM,CAAK,CACpB,CACF,GAAG,CACL","names":[]}